# Version Tracking

This file logs all version changes and tracks development progress.

## Current Version: 0.5.3

---

## Version History

### v0.5.3 (2026-01-31)
**Type:** Maintenance (PATCH)  \
**Branch:** dev  \
**Tag:** v0.5.3

**Changes:**
- Updated macOS CI runner documentation from macos-13 to macos-latest
- Synced docs/AI_INSTRUCTIONS.md with AGENT.md (fixed encoding)
- Removed template agent files from docs/Agents/
- Removed empty Skills/ and rules/ directories
- Removed Windows artifact (nul file)
- Fixed .gitignore: Cargo.lock now tracked, added nul exclusion

**Files Modified:**
- `AGENT.md` - Updated Rule 4 macOS runner
- `docs/AI_INSTRUCTIONS.md` - Synced with AGENT.md
- `.gitignore` - Removed Cargo.lock exclusion, added nul
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Tracking entry

**Files Deleted:**
- `docs/Agents/ChatGPT_AGENTS.md`
- `docs/Agents/Claude_AGENTS.md`
- `docs/Agents/Orginal_AGENTS.md`
- `nul`
- `Skills/`
- `rules/`

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.5.2 (2026-01-31)
**Type:** Patch (FIX)  \
**Branch:** dev  \
**Tag:** v0.5.2

**Changes:**
- Added Force Quit option to close the app immediately

**Files Modified:**
- `src/app.rs` - Force quit handling
- `src/ui/menu.rs` - Force Quit menu entry
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/app.rs:41` - Force quit command routing
- `src/app.rs:485` - Force quit handler
- `src/app.rs:783` - Quit dialog force quit option
- `src/ui/menu.rs:84` - Force Quit menu entry

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.5.1 (2026-01-31)
**Type:** Patch (FIX)  \
**Branch:** dev  \
**Tag:** v0.5.1

**Changes:**
- Added Close All menu option for tabs
- Fixed Replace button behavior when no selection exists
- Fixed quit prompt discard flow to allow exit

**Files Modified:**
- `src/app.rs` - Close all, replace fix, quit discard flow
- `src/ui/menu.rs` - File menu Close All action
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/app.rs:22` - Close All command handling
- `src/app.rs:272` - Close All tab queue
- `src/app.rs:357` - Replace behavior fix
- `src/app.rs:768` - Quit discard allow flag
- `src/ui/menu.rs:62` - Close All menu entry

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.5.0 (2026-01-31)
**Type:** Feature Expansion (MINOR)  \
**Branch:** dev  \
**Tag:** v0.5.0

**Changes:**
- Added find/replace dialog with regex search and replace all
- Added tab close-left/right actions and Chrome tab shortcuts (Ctrl+1..9)
- Added quit confirmation when unsaved edits exist and Ctrl+Shift+W quit

**Files Modified:**
- `src/app.rs` - Find/replace, close-left/right, quit confirmation, tab shortcuts
- `src/ui/menu.rs` - Edit menu search actions and close-left/right
- `src/ui/editor_view.rs` - Stable editor id for selection
- `src/shortcuts.rs` - Chrome-style tab shortcuts and quit hotkey
- `Cargo.toml` - Version bump and regex dependency
- `Cargo.lock` - Locked regex dependency updates
- `README.md` - Version bump
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/app.rs:90` - Find/replace state and tab close logic
- `src/app.rs:248` - Close-left/right tab actions
- `src/app.rs:305` - Find/replace helpers
- `src/app.rs:730` - Quit confirmation prompt
- `src/ui/menu.rs:65` - Close-left/right and search menu entries
- `src/shortcuts.rs:68` - Chrome tab shortcut mapping
- `src/ui/editor_view.rs:27` - Editor id source

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.4.0 (2026-01-31)
**Type:** Feature Expansion (MINOR)  \
**Branch:** dev  \
**Tag:** v0.4.0

**Changes:**
- Added View menu toggles for status bar and line numbers
- Added "+" tab button in the tab strip
- Added Save All dialog defaults for .txt
- Fixed Edit > Paste by reading from clipboard
- Added status bar metrics for words/chars/bytes/lines

**Files Modified:**
- `src/app.rs` - View toggles, status bar, paste handling, Save As defaults
- `src/ui/menu.rs` - View menu toggles
- `src/ui/tabs.rs` - "+" tab button
- `src/ui/editor_view.rs` - Optional line number gutter
- `src/document.rs` - `text()` access for stats
- `Cargo.toml` - Version bump and clipboard dependency
- `README.md` - Version bump
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/ui/menu.rs:23` - View menu toggles
- `src/app.rs:71` - `PlainpadApp` view state
- `src/app.rs:120` - Focused edit events
- `src/app.rs:160` - `paste_from_clipboard()`
- `src/app.rs:251` - `save_dialog_for()` sets txt defaults
- `src/app.rs:315` - Status bar rendering
- `src/ui/tabs.rs:11` - `TabAction` includes `new_tab`
- `src/ui/editor_view.rs:4` - Line number gutter
- `src/document.rs:57` - `Document::text()`

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.2.6 (2026-01-31)
**Type:** Editor Fix (PATCH)  \
**Branch:** main  \
**Tag:** v0.2.6

**Changes:**
- Added Save All menu option to persist non-empty tabs
- Stored editor widget id to keep edit actions focused
- Exposed document emptiness check for save filtering

**Files Modified:**
- `src/ui/menu.rs` - Save All menu item
- `src/app.rs` - Focus handling and save-all logic
- `src/document.rs` - `is_empty()` helper
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Patch release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/ui/menu.rs:21` - `menu_bar()` adds Save All
- `src/app.rs:65` - `PlainpadApp` stores `editor_id`
- `src/app.rs:108` - `send_edit_key()` requests focus by id
- `src/app.rs:194` - `save_all_non_empty()`
- `src/document.rs:57` - `Document::is_empty()`

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.2.3 (2026-01-31)
**Type:** CI Fix (PATCH)  \
**Branch:** dev  \
**Tag:** v0.2.3

**Changes:**
- Restored macOS runner matrix (macos-13 + macos-14)
- Switched linux arm64 build to `cross` for reliable sysroot handling
- Added MSVC ARM64 environment setup for Windows cross builds

**Files Modified:**
- `.github/workflows/ci-release.yml` - CI runner matrix and ARM64 builds
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Patch release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `.github/workflows/ci-release.yml:26` - Runner matrix includes macos-13/macos-14
- `.github/workflows/ci-release.yml:93` - `cross` install and build for linux arm64
- `.github/workflows/ci-release.yml:153` - MSVC ARM64 setup step

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.2.2 (2026-01-31)
**Type:** Documentation Move (PATCH)  \
**Branch:** dev  \
**Tag:** v0.2.2

**Changes:**
- Relocated agent prompt templates into `docs/Agents`
- Bumped version metadata and changelog for the patch release

**Files Modified:**
- `docs/Agents/ChatGPT_AGENTS.md` - Moved from repo root
- `docs/Agents/Claude_AGENTS.md` - Moved from repo root
- `docs/Agents/Orginal_AGENTS.md` - Moved from repo root
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Patch release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `docs/Agents/ChatGPT_AGENTS.md:1` - Agent prompt template
- `docs/Agents/Claude_AGENTS.md:1` - Agent prompt template
- `docs/Agents/Orginal_AGENTS.md:1` - Agent prompt template

**Testing:**
- Pending (run `cargo fmt`, `cargo clippy`, `cargo test`, `cargo build --release`)

---

### v0.2.1 (2026-01-31)
**Type:** Build Fix (PATCH)  \
**Branch:** dev  \
**Tag:** v0.2.1

**Changes:**
- Fixed synthetic key events to include `physical_key` for egui 0.27
- Bumped version metadata and changelog for the patch release

**Files Modified:**
- `src/app.rs` - Added `physical_key` to synthetic key events
- `Cargo.toml` - Version bump
- `README.md` - Version bump
- `CHANGELOG.md` - Patch release notes
- `.version-tracking.md` - Tracking entry

**Locations:**
- `src/app.rs:103` - `PlainpadApp::send_edit_key()` emits `physical_key: None`

**Testing:**
- `cargo fmt --all`
- `cargo clippy --all-targets -- -D warnings`
- `cargo test --all --no-fail-fast`
- `cargo build --release`

---

### v0.2.0 (2026-01-31)
**Type:** Feature Expansion (MINOR)  \
**Branch:** dev  \
**Tag:** v0.2.0

**Changes:**
- Added Edit menu actions with standard Notepad shortcuts
- Expanded File menu with Print entry and Ctrl+P shortcut
- Routed edit menu actions through synthetic input events
- Updated release/install URLs to point at `Plainpad` repository
- Bumped version metadata in Cargo.toml and README

**Files Modified:**
- `src/app.rs` - Menu command handling and edit event routing
- `src/shortcuts.rs` - Print shortcut detection
- `src/ui/menu.rs` - File/Edit menu layout
- `src/ui/editor_view.rs` - Return focusable response
- `Cargo.toml` - Version bump and repository URL
- `README.md` - Version bump and release/install URLs
- `scripts/install.sh` - Release repository URL
- `scripts/install.ps1` - Release repository URL
- `scripts/install.bat` - Release repository URL
- `CHANGELOG.md` - Release notes
- `.version-tracking.md` - Updated tracking entry

**Locations:**
- `src/app.rs:80` - `PlainpadApp::handle_command()` edit + print routing
- `src/app.rs:103` - `PlainpadApp::send_edit_key()`
- `src/app.rs:130` - `PlainpadApp::send_edit_event()`
- `src/app.rs:157` - `PlainpadApp::show_print_notice()`
- `src/app.rs:212` - Editor focus tracking in `PlainpadApp::update()`
- `src/shortcuts.rs:15` - `detect()` print shortcut
- `src/ui/menu.rs:20` - `menu_bar()` adds File/Edit menus
- `src/ui/editor_view.rs:4` - `editor_view()` returns response

**Implementation Notes:**
- Edit menu actions synthesize egui input events to reuse existing text edit handling.
- Print is currently a placeholder message pending native print integration.

**Testing:**
- Pending (run `cargo fmt`, `cargo clippy`, `cargo test`, `cargo build --release`)

**Next Version:** 0.3.0 (planned enhancements...)

---

### v0.1.0 (2026-01-31)
**Type:** Initial Scaffold (MINOR)  \
**Branch:** main  \
**Tag:** v0.1.0

**Changes:**
- Established the plainpad GUI app shell using eframe/egui
- Added ropey-backed document model, tab handling, and shortcuts
- Wired native open/save dialogs and dirty-state close prompt
- Updated CI workflow, install scripts, and Makefile for plainpad
- Rewrote README and changelog to match the project scope

**Files Modified:**
- `src/main.rs` - App entry point
- `src/app.rs` - eframe app lifecycle
- `src/editor.rs` - Document/tab coordination
- `src/document.rs` - Rope-backed model
- `src/shortcuts.rs` - Keyboard shortcut mapping
- `src/ui/menu.rs` - Menu rendering
- `src/ui/tabs.rs` - Tab bar rendering
- `src/ui/editor_view.rs` - Editor viewport
- `Cargo.toml` - Metadata and dependencies
- `.github/workflows/ci-release.yml` - CI/CD pipeline
- `.gitignore` - Artifact exclusions
- `Dockerfile` - Container metadata
- `scripts/install.sh` - Unix installer
- `scripts/install.ps1` - Windows installer
- `scripts/install.bat` - Windows batch installer
- `Makefile` - Build and CI targets
- `README.md` - Project documentation
- `CHANGELOG.md` - Release notes
- `docs/AI_INSTRUCTIONS.md` - Agent reference copy

**Locations:**
- `src/main.rs:7` - `main()` application entry
- `src/app.rs:54` - `PlainpadApp::new()` initialization
- `src/app.rs:126` - `PlainpadApp::update()` UI loop
- `src/editor.rs:11` - `Editor::new()` base state
- `src/editor.rs:43` - `Editor::new_document()` tab creation
- `src/editor.rs:50` - `Editor::open_document()` file load
- `src/editor.rs:57` - `Editor::close_document()` tab close
- `src/editor.rs:78` - `Editor::save_document()` save path
- `src/document.rs:13` - `Document::new_untitled()`
- `src/document.rs:24` - `Document::from_path()`
- `src/document.rs:42` - `Document::title()`
- `src/document.rs:53` - `Document::text_mut()`
- `src/document.rs:57` - `Document::sync_rope()`
- `src/document.rs:70` - `Document::save_to()`
- `src/shortcuts.rs:14` - `detect()` shortcut routing
- `src/ui/menu.rs:13` - `menu_bar()`
- `src/ui/tabs.rs:10` - `tab_bar()`
- `src/ui/editor_view.rs:4` - `editor_view()`
- `.github/workflows/ci-release.yml:193` - Release notes extraction with `VERSION_NO_V`

**Implementation Notes:**
- `Document` stores both `String` and `Rope` to keep future text operations predictable while using a simple `TextEdit` binding.
- The close-tab flow prompts for dirty documents and preserves the previously active tab when saving.
- Install scripts only download release assets to satisfy the no-extra-network requirement.

**Testing:**
- Pending (run `cargo fmt`, `cargo clippy`, `cargo test`, `cargo build --release`)

**Next Version:** 0.2.0 (planned features...)

---

**AGENT NOTE:** Update this file with EVERY commit/version bump
